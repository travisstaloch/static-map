# StaticMap

A generic HashMap in zig similar to std.ArrayHashMap().

# Use
```console
zig fetch --save git+https://github.com/travisstaloch/static-map
```
```zig
// build.zig:
const static_map = b.dependency("static-map", .{});
exe.root_module.addImport("static-map", static_map.module("static-map"));
```
```zig
// main.zig
test "usage" {
    // const static_map = @import("static-map");
    // init()
    const Map = static_map.StaticStringMap(u8, 16);
    var map = Map.init();
    // put()/get()
    try map.put("abc", 1);
    try std.testing.expectEqual(1, map.get("abc"));
    // getOrPut()
    const gop = map.getOrPut("abc");
    try std.testing.expectEqual(gop.status, .existing);
    gop.value_ptr.* = 2;
    try std.testing.expectEqual(2, map.get("abc"));
    // putAssumeCapacity()
    map.putAssumeCapacity("def", 3);
    try std.testing.expectEqual(3, map.get("def"));
    // putNoClobber()
    map.putNoClobber("ghi", 4);
    try std.testing.expectEqual(4, map.get("ghi"));
    // getPtr()
    map.getPtr("def").?.* = 5;
    try std.testing.expectEqual(5, map.get("def"));
    // count()
    try std.testing.expectEqual(3, map.count());
    // iterator()
    var iter = map.iterator();
    var count: u8 = 0;
    while (iter.next()) |kv| : (count += 1) {
        try std.io.null_writer.print("{s}: {}", .{ kv.key, kv.value });
    }
    try std.testing.expectEqual(map.count(), count);
}
```

# Tests

[src/tests.zig](src/tests.zig)

```console
zig build test
```

# Bench

this is a plot of data generated by [src/bench.zig](src/bench.zig).  you can generate some data by running [./bench.sh](./bench.sh)

![Screenshot-1](https://github.com/user-attachments/assets/d64512bb-7b9f-48ac-be7a-96ff87f45325)

# Prior Art

https://github.com/Vexu/comptime_hash_map 
